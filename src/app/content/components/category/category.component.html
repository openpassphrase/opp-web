<div class="flex items-center">
  <div *ngIf="!isInEditMode" class="flex items-center gap-4 ml-10">
    <span
      class="category-name"
      [innerHTML]="category.name | capitalize | highlight : searchFor"
    ></span>

    <div *ngIf="isExpanded" class="flex items-center gap-4">
      <button
        mat-mini-fab
        matTooltip="Edit category name"
        (click)="toggleEditCategory($event)"
        type="button"
      >
        <mat-icon>edit</mat-icon>
      </button>

      <button
        mat-mini-fab
        matTooltip="Delete category"
        (click)="promptDelete($event)"
        type="button"
      >
        <mat-icon>delete</mat-icon>
      </button>

      <button
        mat-mini-fab
        matTooltip="Add new item"
        #addItemTooltip
        (click)="promptAddItem($event)"
        type="button"
      >
        <mat-icon>add</mat-icon>
      </button>
    </div>
  </div>

  <div *ngIf="isInEditMode && isExpanded">
    <form
      novalidate
      [formGroup]="changeCategoryForm"
      (ngSubmit)="saveCategoryName()"
      class="flex gap-4 items-center"
    >
      <mat-form-field>
        <mat-label>Category name</mat-label>

        <input
          matInput
          formControlName="newName"
          type="text"
          (click)="$event.stopPropagation()"
        />
      </mat-form-field>

      <button mat-mini-fab type="submit" (click)="$event.stopPropagation()">
        <mat-icon>check</mat-icon>
      </button>

      <button mat-mini-fab (click)="toggleEditCategory($event)" type="button">
        <mat-icon>clear</mat-icon>
      </button>
    </form>
  </div>
</div>
